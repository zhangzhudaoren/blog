import{o as C,a as M,i as O}from"./lifecycle.BYH2jir1.js";import{a9 as j,a5 as z,u as q,V as A,aa as D,c as E,f as I,a as v,p as $,b as x,g as c,m as P,e as B,i as F,h as L,r as V,t as Y,s as g}from"./template.ooWnUCAm.js";import{i as G}from"./if.Dvff4YHd.js";import{a as H,s as w}from"./attributes.CdzuWpGA.js";import{p as n}from"./config.YX5RPGMU.js";/* empty css                        */import"./utils.CAzCXM5_.js";function y(o,e){return o===e||o?.[D]===e}function b(o={},e,l,m){return j(()=>{var a,i;return z(()=>{a=i,i=[],q(()=>{o!==l(...i)&&(e(o,...i),a&&y(l(...a),o)&&e(null,...a))})}),()=>{A(()=>{i&&y(l(...i),o)&&e(null,...i)})}}),o}var J=B('<div><div class="pio-action"></div> <canvas id="pio"></canvas></div>');function Z(o,e){x(e,!1);const l={mode:n.mode,hidden:n.hiddenOnMobile,content:n.dialog||{},model:n.models||["/pio/models/pio/model.json"]};let m=null,a=!1,i=P(),f=P();function u(){if(typeof window<"u"&&typeof Paul_Pio<"u")try{c(i)&&c(f)&&!a?(m=new Paul_Pio(l),a=!0,console.log("Pio initialized successfully (Svelte)")):(!c(i)||!c(f))&&(console.warn("Pio DOM elements not found, retrying..."),setTimeout(u,100))}catch(s){console.error("Pio initialization error:",s)}else setTimeout(u,100)}function S(){if(typeof window>"u")return;const s=(t,r)=>new Promise((d,k)=>{if(document.querySelector(`#${r}`)){d();return}const p=document.createElement("script");p.id=r,p.src=t,p.onload=d,p.onerror=k,document.head.appendChild(p)});s("/pio/static/l2d.js","pio-l2d-script").then(()=>s("/pio/static/pio.js","pio-main-script")).then(()=>{setTimeout(u,100)}).catch(t=>{console.error("Failed to load Pio scripts:",t)})}C(()=>{S()}),M(()=>{console.log("Pio Svelte component destroyed (keeping instance alive)")}),O();var h=E(),_=I(h);{var T=s=>{var t=J(),r=F(L(t),2);b(r,d=>g(f,d),()=>c(f)),V(t),b(t,d=>g(i,d),()=>c(i)),Y(()=>{H(t,1,`pio-container ${n.position}`),w(r,"width",n.width),w(r,"height",n.height)}),v(s,t)};G(_,s=>{s(T)})}v(o,h),$()}export{Z as default};
